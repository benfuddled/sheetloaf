const picomatch=require("picomatch"),fg=require("fast-glob"),fs=require("fs"),path=require("path");function generatePostcssConfig(t,r){let s={plugins:[]};if(r)r.split(",").forEach(function(e){s.plugins.push(require(e))});else{let e;t!==void 0?e=path.resolve(process.cwd(),t,"postcss.config.js"):e=path.resolve(process.cwd(),"postcss.config.js");try{fs.lstatSync(e),s=require(e)}catch{}}return s}function expandGlob(t,r,s=0,e=[]){if(s<t.length){let c=!1,f=!1,l=!1;if(c=picomatch.scan(t[s]).isGlob,c===!1)try{f=fs.lstatSync(path.normalize(t[s])).isDirectory(),l=fs.lstatSync(path.normalize(t[s])).isFile()}catch(o){throw o}if(c||l){let o=fg.sync(t[s],{dot:!0}).map(i=>path.normalize(i));e.push(...o),s=s+1,expandGlob(t,r,s,e)}else if(f){let o=t[s];fs.readdir(o,(i,n)=>{if(i)throw i;n.forEach(h=>{let a=path.join(o,h);fs.lstatSync(a).isDirectory()||e.push(a)}),s=s+1,expandGlob(t,r,s,e)})}}else r(e)}function createDestination(t,r,s,e,c,f){let l="",o="";return r||(r=""),c||(c=".css"),f===!0?r.length>0?l=r:l="":(s||(s=""),e||(e=""),s.length>0?(e.length>0&&(o=path.dirname(t.replace(path.join(e,"/"),""))),l=path.join(s,o,path.basename(t,path.extname(t))+c)):r.length>0?l=r:l=""),l}exports.expandGlob=expandGlob,exports.createDestination=createDestination,exports.generatePostcssConfig=generatePostcssConfig;
